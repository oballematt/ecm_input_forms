<div id="overlay" style="display:none;">
    <div class="spinner"></div>
    <br />
    <p class='overlayMessage'>Getting data, this will take a few seconds</p>
</div>
<div class="container-fluid" style='height: 100%; width: 100%'>
    <div style="height: 100%; width: 100%" class="row">
        <div class="col-xxl-3 col-lg-4 searchBox">
            <div class="user">
                {{#if user}}
                {{user}}
                {{/if}}
            </div>
            <table id="table" data-toggle="table" data-toolbar="#toolbar" data-height="430" data-ajax="ajaxRequest"
                data-search="true" data-pagination="true" data-filter-control="true"  style="color: white">
                <thead style="color: white">
                    <tr class="rowData">
                        <th id="button3" data-field="state" data-radio="true"></th>
                        <th data-filter-control="select" data-field="building_abbreviation">Building</th>
                        <th data-filter-control="select" data-field="meter">Meter Name</th>
                        <th data-visible='false' data-field="building_number">Building Number</th>
                        <th data-field="commodity_tag">Commodity</th>
                    </tr>
                </thead>
            </table>
            <button style=" color:white" type="button" id="button" class="btn btn-success mt-3">Confirm Meter
                Selection</button>
            <ul class="list-group mt-3 mb-3">
                <li class="list-group-item d-flex justify-content-between align-items-start listGroupColor">
                    <div class="ms-2 me-auto">
                        <div class="fw-bold">Current Meter Selection:</div>
                        <div class="meterSelection">--</div>
                    </div>
                </li>
            </ul>
            <div class="input-group flex-nowrap mt-3">
                <span class="input-group-text" id="addon-wrapping">Model Start Date:</span>
                <input autocomplete="off" disabled='true' id="modelStart" type="text"
                    class="form-control datepicker disabled modelStart" placeholder="yyyy/mm/dd"
                    aria-label="Model Start Date" aria-describedby="addon-wrapping">
            </div>
            <div class="input-group flex-nowrap mt-3">
                <span class="input-group-text" id="addon-wrapping">Model End Date:</span>
                <input disabled="true" type="text" class="form-control datepicker disabled modelEnd"
                    placeholder="yyyy/mm/dd" aria-label="Model End Date" aria-describedby="addon-wrapping">
            </div>
            <div class="input-group flex-nowrap mt-3">
                <span class="input-group-text" id="addon-wrapping">Analysis Start Date:</span>
                <input disabled="true" type="text" class="form-control datepicker disabled analysisStart"
                    placeholder="yyyy/mm/dd" aria-label="Analysis Start Date" aria-describedby="addon-wrapping">
            </div>
            <div class="input-group flex-nowrap mt-3">
                <span class="input-group-text" id="addon-wrapping">Analysis End Date:</span>
                <input disabled="true" type="text" class="form-control datepicker disabled analysisEnd"
                    placeholder="yyyy/mm/dd" aria-label="Analysis End Date" aria-describedby="addon-wrapping">
            </div>
            <button style="background-color: #bf5700;" class="btn btn-primary apiGateway mt-3 w-100 load"
                type="button">Run Model</button>
        </div>
        <div class="col-xxl-9 col-lg-8">
            <nav class="nav">
                <h6 style='color: white' class="nav-link ">Meter Description:
                    <span class="units text-end meterVariable">--</span>
                </h6>
                <h6 style='color: white' class="nav-link">Base Temp:
                    <span class="units text-end baseTemp">--</span>
                </h6>
                <h6 style='color: white' class="nav-link">% Auto Ignored:
                    <span class="units text-end autoIgnored">--</span>
                </h6>
                <h6 style='color: white' class="nav-link">Slope:
                    <span class="units text-end slope">--</span>
                </h6>
                <h6 style='color: white' class="nav-link">Intercept:
                    <span class="units text-end intercept">--</span>
                </h6>
                <h6 style='color: white' class="nav-link">R-Squared:
                    <span class="units text-end r2">--</span>
                </h6>
                <h6 style='color: white' class="nav-link">Std Dev:
                    <span class="units text-end stdDev">--</span>
                </h6>
            </nav>
            <div id='chartData' class="row responsive">
                <div class="col-xxl-6 col-xl-12">
                    <div class="card w-100">
                        <div class="card-body">
                            <canvas class="my-4 w-100" id="myChart" width="900" height="415"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-xxl-6 col-xl-12">
                    <div class="card w-100">
                        <div class="card-body">
                            <canvas class="my-4 w-100" id="myChart2" width="900" height="415"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row mb-3 responsive">
                <div style='display: none' id='tableData' class="col-xxl-7 col-xl-12 text-start">
                    <div class='card w-100'>
                        <div class='card-body'>
                            <div class="table-responsive ">
                                <table data-detail-view="true" data-detail-view-align='left' data-height="462"
                                    data-toggle="table" data-pagination="true" data-detail-formatter="detailFormatter"
                                    id="table2" class="table table-bordered border-secondary"
                                    data-multiple-select-row="true" data-click-to-select="true" style="color: white">
                                    <thead style="color: white">
                                        <tr>
                                            <th data-field="state" data-checkbox="true"></th>
                                            <th data-field="Date">Date</th>
                                            <th data-field="Temperature">Temperature</th>
                                            <th data-field="HDD">HDD</th>
                                            <th data-field="Meter">Meter Reading</th>
                                            <th data-field="Expected">Expected</th>
                                            <th data-field="Replacement">Replacement</th>
                                            <th data-field="Reason" data-visible="false">Reason</th>
                                            <th data-field="Notes" data-visible="false">Notes</th>
                                    </thead>
                                </table>
                                <button style="background-color: #bf5700;" id="button3" class="btn btn-success"
                                    type="button">Copy
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="row-container" class="col-xxl-5 col-xl-12" style="display: none">
                    <div class="card">
                        <div class="card-body">
                            <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                <table class="table table-bordered" style="color: white">
                                    <thead>
                                        <tr>
                                            <th scope="col">Date</th>
                                            <th scope="col">Current Meter Value</th>
                                            <th class='replaceReason' scope="col">Replacement Value</th>
                                        </tr>
                                    </thead>
                                    <tbody id="replaceTable">

                                    </tbody>
                                </table>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="mb-3 text-start">
                                        <label for="reason" class="form-label">
                                            <h6 style='color: white'>Reason</h6>
                                        </label>
                                        <select disabled='true' class="form-select" id="reason"
                                            aria-label="Default select example">
                                            <option disabled selected>Choose...</option>
                                            <option>meter issue</option>
                                            <option>building maintenance issue</option>
                                            <option>major renovation/addition in progress</option>
                                            <option>other</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6 text-start">
                                    <div class="mb-3">
                                        <label for="notes" class="form-label">
                                            <h6 style="color: white">Notes</h6>
                                        </label>
                                        <textarea disabled='true' class="form-control" id="notes" rows="2"></textarea>
                                    </div>
                                </div>
                                <button style="display: none; background-color:#bf5700" type="button"
                                    class="btn btn-success submit load">Submit</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="position-fixed top-50 start-50 p-3" style="z-index: 11">
        <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <br>
                <strong class="me-auto">Success</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div style="color: white" class="toast-body bg-success">
                Your data has been submitted successfully!
            </div>
        </div>
    </div>